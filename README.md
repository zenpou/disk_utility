# Disk Utility - ディスク容量分析アプリ

![Electron](https://img.shields.io/badge/Electron-37.2.4-blue)
![D3.js](https://img.shields.io/badge/D3.js-7.9.0-orange)
![License](https://img.shields.io/badge/License-MIT-green)

ディスク使用量を視覚的に分析できるElectronアプリケーションです。ツリーマップ表示でファイルとフォルダのサイズを直感的に把握できます。

> 🤖 このアプリケーションは [Claude Code](https://claude.ai/code) を使用して開発されました。

## ✨ 機能

- 📊 **ツリーマップ表示**: ファイルとフォルダのサイズを視覚的に表示
- 📁 **フォルダナビゲーション**: クリックでディレクトリを移動
- 🗂️ **ファイル一覧**: サイズ順でソートされたファイル・フォルダリスト
- 🔍 **フォルダ選択**: 任意のフォルダを選択して分析
- 🗑️ **ファイル削除**: 右クリックメニューからファイル・フォルダを削除
- 🔍 **Finderで表示**: ファイルの場所をFinderで確認
- 📋 **パス・名前コピー**: ファイルパスや名前をクリップボードにコピー
- ↗️ **ナビゲーション**: 上のディレクトリ移動、再読み込み機能

## 🚀 起動方法

### 開発環境での起動

1. **リポジトリをクローン**
   ```bash
   git clone <repository-url>
   cd disk_utility
   ```

2. **依存関係をインストール**
   ```bash
   npm install
   ```

3. **アプリを起動**
   ```bash
   npm start
   ```

### 開発モード（DevToolsあり）

```bash
npm run dev
```

## 🔧 ビルド方法

### 必要な環境

- Node.js 18以上
- npm または yarn

### 全プラットフォーム向けビルド

```bash
npm run build
```

### プラットフォーム別ビルド

#### macOS用

```bash
npm run build-mac
```

生成されるファイル:
- `dist/Disk Utility-1.0.0.dmg` - インストーラー
- `dist/Disk Utility-1.0.0-mac.zip` - ZIPアーカイブ
- `dist/mac/Disk Utility.app` - アプリケーション本体

#### Windows用

```bash
npm run build-win
```

生成されるファイル:
- `dist/Disk Utility Setup 1.0.0.exe` - インストーラー
- `dist/Disk Utility-1.0.0-win.zip` - ZIPアーカイブ

#### Linux用

```bash
npm run build-linux
```

生成されるファイル:
- `dist/Disk Utility-1.0.0.AppImage` - ポータブル実行ファイル
- `dist/Disk Utility_1.0.0_amd64.deb` - DEBパッケージ

### 配布用パッケージ作成

```bash
npm run dist
```

## 📖 使用方法

### 1. 起動時のフォルダ選択

アプリを起動すると、分析するフォルダを選択できます：

- **フォルダを選択**: 任意のフォルダを選択
- **ホームディレクトリを使用**: ユーザーのホームディレクトリを使用

### 2. ツリーマップ表示

- 左側にファイルとフォルダがサイズに応じた矩形で表示されます
- 色分けでファイル（青）とディレクトリ（赤）を区別
- クリックでディレクトリに移動

### 3. ファイル一覧

右側にファイル一覧が表示されます：

- `.` : 現在のディレクトリ（容量付き）
- `..` : 親ディレクトリ（ルート以外）
- ファイルとフォルダがサイズ順でソート

### 4. ナビゲーション

ヘッダーのボタンで移動できます：

- **上のディレクトリ**: 親ディレクトリに移動
- **再読み込み**: 現在のディレクトリを再読み込み
- **フォルダ選択**: 新しいフォルダを選択
- **ホームディレクトリ**: ホームディレクトリに移動
- **ルートディレクトリ**: ルートディレクトリに移動

### 5. 右クリックメニュー

ファイルやフォルダを右クリックすると以下のメニューが表示されます：

- **開く**: ファイル・フォルダを開く
- **Finderで表示**: Finderで場所を表示
- **パスをコピー**: フルパスをコピー
- **名前をコピー**: ファイル名をコピー
- **プロパティ**: ファイル情報を表示
- **削除**: ファイル・フォルダを削除（確認ダイアログあり）

### 6. キーボードショートカット

- **F5** または **Cmd+R**: 再読み込み

## 🛠️ 技術スタック

- **Electron**: デスクトップアプリフレームワーク
- **D3.js**: データ視覚化ライブラリ
- **Node.js**: バックエンドランタイム
- **HTML/CSS/JavaScript**: フロントエンド
- **開発支援**: [Claude Code](https://claude.ai/code) - AIペアプログラミング

## 📁 プロジェクト構造

```
disk_utility/
├── main.js              # Electronメインプロセス
├── package.json          # プロジェクト設定
├── src/
│   ├── main/
│   │   └── preload.js    # プリロードスクリプト
│   └── renderer/
│       ├── index.html    # メインHTML
│       ├── app.js        # フロントエンドロジック
│       └── styles.css    # スタイル
├── dist/                 # ビルド出力（生成される）
└── node_modules/         # 依存関係
```

## ⚠️ 注意事項

### セキュリティ

- 削除機能は不可逆的な操作です
- システムの重要なディレクトリ（`/`, `/System`, `/usr`など）は削除できません
- ファイル削除前に確認ダイアログが表示されます

### パフォーマンス

- 大きなディレクトリの分析には時間がかかる場合があります
- メモリ使用量はディレクトリのサイズに依存します

### macOS での実行

初回実行時に「開発者を確認できません」という警告が表示される場合があります：

1. システム環境設定 > セキュリティとプライバシー を開く
2. 「このまま開く」をクリック

または、コマンドラインで以下を実行：

```bash
sudo xattr -r -d com.apple.quarantine "/Applications/Disk Utility.app"
```

## 🐛 トラブルシューティング

### ビルドエラー

1. Node.jsのバージョンを確認（18以上推奨）
2. `node_modules`を削除して再インストール：
   ```bash
   rm -rf node_modules package-lock.json
   npm install
   ```

### アプリが起動しない

1. 開発者ツールでエラーを確認：
   ```bash
   npm run dev
   ```
2. コンソールログを確認

### 権限エラー

- ファイル削除やディレクトリアクセスで権限エラーが発生する場合は、適切な権限でアプリを実行してください

## 📝 ライセンス

MIT License

## 🤝 コントリビューション

バグ報告や機能提案は Issues でお気軽にお知らせください。

## 🎯 開発について

このプロジェクトは [Claude Code](https://claude.ai/code) を使用して開発されました。Claude CodeはAnthropic社が提供するAIペアプログラミングツールで、以下の開発プロセスを支援しました：

- アーキテクチャ設計
- UI/UX実装
- バックエンドロジック
- エラーハンドリング
- セキュリティ実装
- ドキュメント作成

Claude Codeの詳細については [公式サイト](https://claude.ai/code) をご覧ください。

## 📧 サポート

問題が発生した場合は、以下の情報を含めてお知らせください：

- OS とバージョン
- Node.js バージョン
- エラーメッセージ
- 再現手順